<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Finance Calculator</title>
    <link rel="stylesheet" href="style.css">
    <!-- Include jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Baskervville&family=Libre+Baskerville&family=Nunito+Sans:opsz,wght@6..12,700&family=Playfair+Display&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,600;1,700;1,800;1,900&family=Righteous&family=Roboto:ital,wght@1,300&family=Rubik:ital,wght@1,300&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Navigation Links -->
    <div class="navbar">
        <ul class="nav-list">
            <li><a href="Hourly-to-Salary.html" onclick="showHourlyToSalary()">Hourly to Salary Calculator</a></li>
            <li><a href="Salary-to-Hourly.html" onclick="showSalaryToHourly()">Salary to Hourly Calculator</a></li>
            <li><a href="Time-and-a-Half.html" onclick="showTimeAndHalf()">Time and a Half Calculator</a></li>
            <li><a href="Overtime.html" onclick="showOvertime()">Overtime Calculator</a></li>
        </ul>
    </div>

    <div class="calculator-main">
        <div class="calculator-calculation-parent1">
            <div class="calculator-calculation-card2">
                <h1>Time Calculator</h1>
                <div class="grid-container">
                    <h2>Currency</h2>
                    <div class="currency-selector">
                        <button onclick="handleCurrencyChange('$')" class="selected">$</button>
                        <button onclick="handleCurrencyChange('€')">€</button>
                        <button onclick="handleCurrencyChange('£')">£</button>
                        <button onclick="handleCurrencyChange('₹')">₹</button>
                        <button onclick="handleCurrencyChange('¥')">¥</button>
                    </div>
                    <h2>Pay rate choice:</h2>
                    <div class="currency-selector">
                        <button onclick="handlePayRateChoice('Hourly')" class="selected">Hourly</button>
                        <button onclick="handlePayRateChoice('Daily')">Daily</button>
                        <button onclick="handlePayRateChoice('Weekly')">Weekly</button>
                        <button onclick="handlePayRateChoice('Biweekly')">Biweekly</button>
                        <button onclick="handlePayRateChoice('Monthly')">Monthly</button>
                        <button onclick="handlePayRateChoice('Annual')">Annual</button>
                    </div>
                    <div class="input-group">
                        <label for="hourly-wage">Hourly pay</label>
                        <div class="hourly-pay">
                            <span id="selected-currency">$</span>
                            <input type="range" id="hourly-wage-slider" min="0" max="100" value="15"
                                class="w-full bg-black-500">
                            <span id="hourly-wage" class="ml-3"></span>
                        </div>
                    </div>
                    <div class="input-main">
                        <div class="input-group">
                            <label for="hoursAtTimeAndHalf">Hours Worked at Time and a Half:</label>
                            <input type="text" id="hoursAtTimeAndHalf" value=""
                                placeholder="Enter hours (1, 1.5, 2, 2.5, etc)"
                                class="w-full p-2 mt-2 border border-gray-300 rounded-md">
                        </div>
                        <div class="input-group">
                            <label for="standardHoursWorked">Standard Hours Worked:</label>
                            <input type="text" id="standardHoursWorked" value="8"
                                class="w-full p-2 mt-2 border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <button class="calculate-btn" onclick="calculateRates()">Calculate</button>
                            <div id="calculated-salary"></div>
                        </div>
                    </div>
                    <!-- Result display div -->
                    <div id="result"></div>
                </div>
            </div>
        </div>
        <div class="flex-item">
            <div class="time-and-a-half-info">
                <h1 class="info-heading">Time and a half Calculator</h1>
                <p class="info-paragraph">This calculator provides an easy way to calculate the equivalent hourly
                    wage
                    based on your annual salary. It considers total hours worked per week, potential bonuses,
                    and
                    factors in vacation time into its calculations. You can always easily edit the calculator to
                    suit
                    your specific needs, such as including different taxation factors, and any other additional
                    variables.</p>
                <h2 class="font-bold text-xl mb-5">FORMULA</h2>
                <p class="info-paragraph">Basic Salary = Gross Salary – Total Allowances (DA + HRA + Medical
                    Insurance +
                    Other Allowances) or Basic salary = CTC x Percentage</p>
                <h2 class="font-bold text-xl mb-5">WORKS BEST FOR</h2>
                <p class="info-paragraph">The hourly wage calculator is perfect for personal use, accounting
                    services
                    and companies.</p>
            </div>
        </div>

        <!-- <div class="popup" id="popup">
            <div class="popup-content">
                <p>Please fill in all required fields with valid numeric values.</p>
                <button class="popup-button" id="close-popup">Close</button>
            </div>
        </div> -->
    </div>

    <script>
        const exchangeRates = {
            '$': 1, // USD is the base currency
            '€': 0.85, // Euro to USD exchange rate
            '£': 0.75, // British Pound to USD exchange rate
            '₹': 74.21, // Indian Rupee to USD exchange rate
            '¥': 114.41 // Japanese Yen to USD exchange rate
        }

        // Define global variable to store pay rate choice
        let payRateChoice = 'Hourly';

        // Function to handle currency change
        function handleCurrencyChange(currency) {
            var selectedCurrencyElement = document.getElementById('selected-currency');
            selectedCurrencyElement.textContent = currency;
        }

        // Function to handle pay rate choice
        function handlePayRateChoice(choice) {
            var hourlyPayLabel = document.querySelector('.input-group label');
            if (hourlyPayLabel) {
                if (choice === 'Hourly') {
                    hourlyPayLabel.textContent = 'Hourly pay rate:';
                } else {
                    hourlyPayLabel.textContent = 'Standard ' + choice.toLowerCase() + ' pay rate:';
                }
            }
            // Update the global variable with the selected pay rate choice
            payRateChoice = choice;
        }

        function calculateRates() {
            var currency = document.getElementById('selected-currency').textContent;
            var standardPayRate = parseFloat(document.getElementById('hourly-wage-slider').value);
            var hoursAtTimeAndHalf = parseFloat(document.getElementById('hoursAtTimeAndHalf').value) || 0;
            var standardHoursWorked = parseFloat(document.getElementById('standardHoursWorked').value) || 0;
            var timeAndHalfRate = 0;

            // Calculate time and a half rate based on pay rate choice
            switch (payRateChoice) {
                case 'Hourly':
                    timeAndHalfRate = standardPayRate * 1.5;
                    break;
                case 'Daily':
                    timeAndHalfRate = (standardPayRate / standardHoursWorked) * 1.5;
                    break;
                case 'Weekly':
                    timeAndHalfRate = (standardPayRate / (standardHoursWorked * 5)) * 1.5;
                    break;
                case 'Biweekly':
                    timeAndHalfRate = (standardPayRate / (standardHoursWorked * 10)) * 1.5;
                    break;
                case 'Monthly':
                    timeAndHalfRate = (standardPayRate / (standardHoursWorked * 20)) * 1.5;
                    break;
                case 'Annual':
                    timeAndHalfRate = (standardPayRate / (standardHoursWorked * 52)) * 1.5;
                    break;
            }

            var timeAndHalfPay = hoursAtTimeAndHalf * timeAndHalfRate;
            var totalEarned = (standardPayRate * standardHoursWorked) + timeAndHalfPay;

            // Apply exchange rate if currency is not USD
            if (currency !== '$') {
                timeAndHalfRate /= exchangeRates[currency];
                timeAndHalfPay /= exchangeRates[currency];
                totalEarned /= exchangeRates[currency];
            }

            // Format results with selected currency
            var formattedTimeAndHalfRate = currency + timeAndHalfRate.toFixed(2);
            var formattedTimeAndHalfPay = currency + timeAndHalfPay.toFixed(2);
            var formattedTotalEarned = currency + totalEarned.toFixed(2);

            // Update result display
            var resultElement = document.getElementById('result');
            resultElement.innerHTML = '<h2>Results:</h2>' +
                '<p>Time and a Half Rate: ' + formattedTimeAndHalfRate + '</p>' +
                '<p>Time and a Half Pay: ' + formattedTimeAndHalfPay + '</p>' +
                '<p>Total Money Earned: ' + formattedTotalEarned + '</p>';
        }

        // Function to update hourly wage slider value
        function updateHourlyWageSlider(value) {
            document.getElementById('hourly-wage-slider').value = value;
            document.getElementById('hourly-wage').textContent = value;
        }

        // Event listener for mousedown on hourly wage element
        document.getElementById('hourly-wage').addEventListener('mousedown', function (e) {
            var slider = document.getElementById('hourly-wage-slider');
            var startX = e.clientX;
            var startValue = parseFloat(slider.value);

            function moveHandler(e) {
                var deltaX = e.clientX - startX;
                var newValue = startValue + deltaX * (slider.max - slider.min) / slider.offsetWidth;
                if (newValue >= parseFloat(slider.min) && newValue <= parseFloat(slider.max)) {
                    updateHourlyWageSlider(newValue.toFixed(2));
                }
            }

            function upHandler() {
                document.removeEventListener('mousemove', moveHandler);
                document.removeEventListener('mouseup', upHandler);
            }

            document.addEventListener('mousemove', moveHandler);
            document.addEventListener('mouseup', upHandler);
        });

        // Update hourly wage slider value
        document.getElementById('hourly-wage-slider').addEventListener('input', function () {
            document.getElementById('hourly-wage').textContent = this.value;
        });

        document.addEventListener("DOMContentLoaded", function () {
            // Set default values
            handleCurrencyChange('$');
            handlePayRateChoice('Hourly');

            // Close popup
            document.getElementById('close-popup').addEventListener('click', function () {
                document.getElementById('popup').style.display = 'none';
            });

            // Event listener for calculate button
            document.querySelector('.calculate-btn').addEventListener('click', calculateRates);
        });
    </script>

</body>

</html>